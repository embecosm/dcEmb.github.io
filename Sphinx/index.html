
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>dcEmb’s documentation &#8212; dcEmb v0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/embdebug-theme.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
<div class="logo">
  <a href="#">
    <img src="_static/logo.png"
         alt="Embecosm Logo" width="185" height="75"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="#">dcEmb v0.1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">dcEmb’s documentation</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">dcEmb’s documentation</a><ul>
<li><a class="reference internal" href="#foreword">Foreword</a></li>
<li><a class="reference internal" href="#installation-instructions">Installation Instructions</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#ubuntu">Ubuntu</a></li>
<li><a class="reference internal" href="#windows">Windows</a></li>
<li><a class="reference internal" href="#mac">Mac</a></li>
</ul>
</li>
<li><a class="reference internal" href="#implemented-models">Implemented models</a></li>
<li><a class="reference internal" href="#implemented-tests">Implemented tests</a></li>
<li><a class="reference internal" href="#writing-your-own-dynamic-causal-model-short-version">Writing your own Dynamic Causal Model: Short Version</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="dcemb-s-documentation">
<h1>dcEmb’s documentation<a class="headerlink" href="#dcemb-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="foreword">
<h2>Foreword<a class="headerlink" href="#foreword" title="Permalink to this headline">¶</a></h2>
<p>This project is a work in progress, and documentation is bare bones. Much of the
documentation for the current project exists via Doxygen.</p>
</section>
<section id="installation-instructions">
<h2>Installation Instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a></h2>
<p>Installation should have no requirements beyond cmake and a modern C++ compiler,
and should be fairly straightforward on any modern platform. That said, we have
currently only tested this extensively on Ubuntu.</p>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Cmake</p></li>
<li><p>C++ 14 compatible compiler</p></li>
</ul>
</section>
<section id="ubuntu">
<h3>Ubuntu<a class="headerlink" href="#ubuntu" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Clone the repository</p></li>
<li><p>Initialise git submodules (git submodule update –init)</p></li>
<li><p>Create and navigate into a build directory (mkdir build &amp;&amp; mv build)</p></li>
<li><p>Run CMake (cmake .. &amp;&amp; cmake –build)</p></li>
<li><p>Run the executable of your choice (e.g, ./dcm_3body)</p></li>
</ol>
</section>
<section id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p>WIP</p>
</section>
<section id="mac">
<h3>Mac<a class="headerlink" href="#mac" title="Permalink to this headline">¶</a></h3>
<p>WIP</p>
</section>
</section>
<section id="implemented-models">
<h2>Implemented models<a class="headerlink" href="#implemented-models" title="Permalink to this headline">¶</a></h2>
<p>The current repository does not yet implement the more complicated generative
models used in the neuroscience domain. Currently, we implement two
examples:</p>
<p>1. dcm_covid, a reimplementation of the Dynamic Causal Modelling for COVID-19
code with a few optimisations.</p>
<p>2. dcm_3body, a classical physics example that serves as a sanity check for
our implementation. Uses the DCM framework to recover a known stable
figure-of-8 orbit of 3 planetary bodies.</p>
</section>
<section id="implemented-tests">
<h2>Implemented tests<a class="headerlink" href="#implemented-tests" title="Permalink to this headline">¶</a></h2>
<p>We also implement two testing suites (using GTest) that automatically test and
verify the functionality of our code. These are:</p>
<ol class="arabic simple">
<li><p>./run_tests, the main test suite that verifies all our core functionality</p></li>
</ol>
<p>2. ./run_serialization_tests, an experimental test suite that verifies the
functionality of our serialization code.</p>
</section>
<section id="writing-your-own-dynamic-causal-model-short-version">
<h2>Writing your own Dynamic Causal Model: Short Version<a class="headerlink" href="#writing-your-own-dynamic-causal-model-short-version" title="Permalink to this headline">¶</a></h2>
<p>The current DCM code makes extensive use of templates, and will likely transiton
fully to a header-only templated library in future. The current instructions are
likely to change significantly:</p>
<p>The existing implementation of the variational laplace inversion scheme is in
the dynamic_model class. It is intended that a user who wishes to implement
an application specific DCM will create a class that inherits from this.</p>
<p>The dynamic_model class containts two virtual functions that must be implemented
in order a) for the inheriting class to be valid and b) for the model inversion
to work correctly. These are:</p>
<p>dynamic_model::forward_model, a function that takes a vector of parameters, and
returns a timeseries vector of outcomes (the “generative model”)</p>
<p>get_forward_model, a function that returns a wrapped function pointer to the
forward model function</p>
<p>get_observed_outcomes, a function that returns the observed outcomes from the
model. Useful if you wish to implement a transform on the models output.</p>
<p>With these functions implemented:
1) create an instance of your class
2) populate its prior_parameter_expectations, prior_parameter_covariances,
prior_hyper_expectations and prior_hyper_covariances values
3) If needed, populate the num_samples and num_response_vars variables
4) Invert your model using mode.invert()
5) Collect your posterior estimates from conditional_parameter_expectations,
conditional_parameter_covariances, conditional_hyper_expectations.</p>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="#">dcEmb v0.1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">dcEmb’s documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, William Jones.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.1.1.
    </div>
  </body>
</html>